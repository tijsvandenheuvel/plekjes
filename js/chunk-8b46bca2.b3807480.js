(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b46bca2"],{2045:function(e,t,s){},"636f":function(e,t,s){"use strict";s("2045")},b64b:function(e,t,s){var c=s("23e7"),r=s("7b0b"),n=s("df75"),a=s("d039"),i=a((function(){n(1)}));c({target:"Object",stat:!0,forced:i},{keys:function(e){return n(r(e))}})},c66d:function(e,t,s){"use strict";s.r(t);s("b64b");var c=s("7a23"),r={class:"profile"},n={key:0},a={key:0},i=Object(c["i"])("Choose a Username: "),l={key:0,id:"warning"},u=Object(c["g"])("br",null,null,-1),o=Object(c["i"])(" This username is unavailable "),b=[u,o],d={key:1},f={key:1};function j(e,t,s,u,o,j){var O=Object(c["B"])("UserData");return Object(c["t"])(),Object(c["f"])("div",r,[o.userToBeCreated|0!==Object.keys(this.$store.state.userEmail).length?(Object(c["t"])(),Object(c["f"])("div",n,[o.userToBeCreated?(Object(c["t"])(),Object(c["f"])("div",a,[Object(c["g"])("span",null,[i,Object(c["I"])(Object(c["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.userName=e})},null,512),[[c["F"],o.userName]])]),Object(c["g"])("button",{type:"button",class:"btn",onClick:t[1]||(t[1]=function(e){return j.checkUserNameAvailability()})}," Save "),o.userNameAvailable?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",l,b))])):(Object(c["t"])(),Object(c["f"])("div",d,[0!==Object.keys(this.$store.state.userEmail).length?(Object(c["t"])(),Object(c["d"])(O,{key:0,onUserToBeCreated:t[2]||(t[2]=function(e){return o.userToBeCreated=e})})):Object(c["e"])("",!0)]))])):(Object(c["t"])(),Object(c["f"])("div",f,"Loading profile..."))])}s("b0c0");var O=function(e){return Object(c["w"])("data-v-894b5e7a"),e=e(),Object(c["u"])(),e},m={key:0},p={class:"card",style:{width:"34rem"}},h={class:"card-body",id:"offcanvasExampleLabel"},k=O((function(){return Object(c["g"])("h5",{class:"card-title"},"My Plekjes",-1)})),v={class:"plekjeslist"},g=["onClick"],y={class:"card",style:{width:"34rem"}},C={class:"card-body",id:"offcanvasExampleLabel"},N=O((function(){return Object(c["g"])("h5",{class:"card-title"},"My Plekollections",-1)})),U={class:"plekjeslist"},_=["onClick"];function w(e,t,s,r,n,a){return 0!=n.user.username.length?(Object(c["t"])(),Object(c["f"])("div",m,[Object(c["g"])("h2",null,"Hello "+Object(c["D"])(n.user.username),1),Object(c["g"])("div",p,[Object(c["g"])("div",h,[k,(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(n.user.my_plekjes,(function(t,s){return Object(c["t"])(),Object(c["f"])("div",v,[Object(c["g"])("div",{onClick:function(s){return e.getPlekollection(t.name)},class:Object(c["p"])({selected:t.selected})},Object(c["D"])(t),11,g)])})),256))])]),Object(c["g"])("div",y,[Object(c["g"])("div",C,[N,(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(n.user.my_plekollections,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",U,[Object(c["g"])("div",{onClick:function(s){return a.selectPlekollection(e,t)},class:Object(c["p"])({selected:t==n.selected_id})},Object(c["D"])(e.name),11,_)])})),256))])])])):Object(c["e"])("",!0)}var T=s("ba5f"),P={data:function(){return{user:{email:"",username:"",my_plekjes:[],my_plekollections:[]},selected_id:null}},methods:{getUserProfile:function(){var e=this,t=JSON.stringify({email:this.$store.state.userEmail});T.apiCall("POST","https://plekjes-server.herokuapp.com/users/get_one",t,(function(t){var s=JSON.parse(t);s?(e.user=s,e.$store.dispatch("setUserData",s)):e.$emit("userToBeCreated",!0)}))},selectPlekollection:function(e,t){this.selected_id=t,console.log(e)}},mounted:function(){this.getUserProfile()}},B=(s("f1f0"),s("6b0d")),E=s.n(B);const S=E()(P,[["render",w],["__scopeId","data-v-894b5e7a"]]);var $=S,A=s("ba5f"),D={components:{UserData:$},data:function(){return{userToBeCreated:!1,userName:"",userNameAvailable:!0}},methods:{checkUserNameAvailability:function(){var e=this,t=JSON.stringify({username:this.userName});A.apiCall("POST","https://plekjes-server.herokuapp.com/users/name_check",t,(function(t){e.userNameAvailable="true"===t,e.userNameAvailable&&e.registerUser()}))},registerUser:function(){var e=this;console.log("creating user");var t={email:this.$store.state.userEmail,username:this.userName,my_plekjes:[],my_plekollections:[]};this.userName="",A.apiCall("POST","https://plekjes-server.herokuapp.com/users/new",JSON.stringify(t),(function(t){e.userToBeCreated=!1}))}},beforeCreate:function(){0===Object.keys(this.$store.state.userEmail).length&&this.$store.dispatch("auth0getUserEmail")},mounted:function(){}};s("636f");const J=E()(D,[["render",j]]);t["default"]=J},f1f0:function(e,t,s){"use strict";s("f730")},f730:function(e,t,s){}}]);
//# sourceMappingURL=chunk-8b46bca2.b3807480.js.map