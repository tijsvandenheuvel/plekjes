{"version":3,"sources":["webpack:///./src/components/UserData.vue?5b2f","webpack:///./src/views/Profile.vue?8104","webpack:///./src/views/Profile.vue","webpack:///./src/components/UserData.vue","webpack:///./src/components/UserData.vue?8db1","webpack:///./src/views/Profile.vue?b467"],"names":["class","id","userToBeCreated","userName","type","checkUserNameAvailability","userNameAvailable","Object","keys","$store","state","userEmail","length","$event","style","user","username","my_plekjes","item","index","getPlekollection","name","selected","my_plekollections","selectPlekollection","selected_id","api","data","email","methods","getUserProfile","query","JSON","stringify","this","apiCall","e","mongodata","parse","dispatch","$emit","i","console","log","mounted","__exports__","components","UserData","registerUser","newUser","beforeCreate","render"],"mappings":"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","file":"js/chunk-b820a926.eb904b8a.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserData.vue?vue&type=style&index=0&id=06a880cf&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Profile.vue?vue&type=style&index=0&id=40cf454f&scoped=true&lang=css\"","<template>\n\t<div class=\"profile\">\n\t\t\t<div v-if=\"userToBeCreated\">\n\t\t\t\t<span>Choose a Username: <input v-model=\"userName\" /></span>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t@click=\"checkUserNameAvailability()\"\n\t\t\t\t>\n\t\t\t\t\tSave\n\t\t\t\t</button>\n\n\t\t\t\t<div v-if=\"!userNameAvailable\" id=\"warning\">\n\t\t\t\t\t<br />\n\t\t\t\t\tThis username is unavailable\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<UserData\n\t\t\t\t\tv-else-if=\"Object.keys(this.$store.state.userEmail).length !== 0\"\n\t\t\t\t\t@userToBeCreated=\"userToBeCreated = $event\"\n\t\t\t/>\n\t</div>\n</template>\n\n<script>\nimport UserData from \"@/components/UserData\";\nvar api = require(\"@/service\");\n\nexport default {\n\tcomponents: {\n\t\tUserData,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuserToBeCreated: false,\n\t\t\tuserName: \"\",\n\t\t\tuserNameAvailable: true,\n\t\t};\n\t},\n\tmethods: {\n\t\tcheckUserNameAvailability() {\n\t\t\tconst query = JSON.stringify({ username: this.userName });\n\t\t\tapi.apiCall(\n\t\t\t\t\"POST\",\n\t\t\t\tprocess.env.VUE_APP_API_URL + \"/users/name_check\",\n\t\t\t\tquery,\n\t\t\t\t(e) => {\n\t\t\t\t\tthis.userNameAvailable = e === \"true\";\n\t\t\t\t\tif (this.userNameAvailable) {\n\t\t\t\t\t\tthis.registerUser();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tregisterUser() {\n\t\t\tconsole.log(\"creating user\");\n\t\t\tconst newUser = {\n\t\t\t\temail: this.$store.state.userEmail,\n\t\t\t\tusername: this.userName,\n\t\t\t\tmy_plekjes: [],\n\t\t\t\tmy_plekollections: [],\n\t\t\t};\n\t\t\tthis.userName = \"\";\n\t\t\tapi.apiCall(\n\t\t\t\t\"POST\",\n\t\t\t\tprocess.env.VUE_APP_API_URL + \"/users/new\",\n\t\t\t\tJSON.stringify(newUser),\n\t\t\t\t(e) => {\n\t\t\t\t\tthis.userToBeCreated = false;\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t},\n\tbeforeCreate() {\n\t\tif (Object.keys(this.$store.state.userEmail).length === 0) {\n\t\t\tthis.$store.dispatch(\"auth0getUserEmail\");\n\t\t}\n\t},\n\tmounted() {},\n};\n</script>\n\n<style scoped>\n.profile {\n\tmargin-top: 48px;\n}\n.btn {\n\tbackground-color: #17a2b8;\n\tcolor: #f2f2f2;\n}\nspan {\n\tfont-size: 21px;\n\ttext-align: left;\n\tmargin-right: 10px;\n}\n#warning {\n\tcolor: #dc3545;\n}\n</style>","<template>\n\t<div v-if=\"user.username.length != 0\">\n\t\t<h2>Hello {{ user.username }}</h2>\n\n\t\t<div class=\"card\" style=\"width: 34rem\">\n\t\t\t<div class=\"card-body\" id=\"offcanvasExampleLabel\">\n\t\t\t\t<h5 class=\"card-title\">My Plekjes</h5>\n\t\t\t\t<div v-for=\"(item, index) in user.my_plekjes\" class=\"plekjeslist\">\n\t\t\t\t\t<div @click=\"getPlekollection(item.name)\" v-bind:class=\"{ selected: item.selected }\">\n\t\t\t\t\t\t{{ item }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n        <div class=\"card\" style=\"width: 34rem\">\n\t\t\t<div class=\"card-body\" id=\"offcanvasExampleLabel\">\n\t\t\t\t<h5 class=\"card-title\">My Plekollections</h5>\n\t\t\t\t<div v-for=\"(item, index) in user.my_plekollections\" class=\"plekjeslist\">\n\t\t\t\t\t<div @click=\"selectPlekollection(item,index)\" v-bind:class=\"{ selected: index==selected_id }\">\n\t\t\t\t\t\t{{ item.name }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n    <div v-else>Loading profile...</div>\n</template>\n\n<script>\nvar api = require(\"@/service\");\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\temail: \"\",\n\t\t\t\tusername: \"\",\n\t\t\t\tmy_plekjes: [],\n\t\t\t\tmy_plekollections: [],\n\t\t\t},\n            selected_id:null\n\t\t};\n\t},\n\tmethods: {\n\t\tgetUserProfile() {\n\t\t\tconst query = JSON.stringify({\n\t\t\t\temail: this.$store.state.userEmail,\n\t\t\t});\n\t\t\tapi.apiCall(\n\t\t\t\t\"POST\",\n\t\t\t\tprocess.env.VUE_APP_API_URL+\"/users/get_one\",\n\t\t\t\tquery,\n\t\t\t\t(e) => {\n\t\t\t\t\tlet mongodata = JSON.parse(e);\n\t\t\t\t\tif (!mongodata) {\n\t\t\t\t\t\tthis.$emit(\"userToBeCreated\", true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.user = mongodata;\n                        this.$store.dispatch(\"setUserData\",mongodata);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n        selectPlekollection(item,i){\n            this.selected_id = i;\n            console.log(item);\n        },\n\t},\n\tmounted() {\n\t\tthis.getUserProfile();\n\t},\n};\n</script>\n\n<style scoped>\n.card{\n    margin:auto;\n}\n</style>","import { render } from \"./UserData.vue?vue&type=template&id=06a880cf&scoped=true\"\nimport script from \"./UserData.vue?vue&type=script&lang=js\"\nexport * from \"./UserData.vue?vue&type=script&lang=js\"\n\nimport \"./UserData.vue?vue&type=style&index=0&id=06a880cf&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tijsvandenheuvel/code_repositys/MAP_APP/plekjes-private/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-06a880cf\"]])\n\nexport default __exports__","import { render } from \"./Profile.vue?vue&type=template&id=40cf454f&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=40cf454f&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tijsvandenheuvel/code_repositys/MAP_APP/plekjes-private/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-40cf454f\"]])\n\nexport default __exports__"],"sourceRoot":""}