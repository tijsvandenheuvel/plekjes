(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b820a926"],{2315:function(e,t,s){"use strict";s("7408")},"716d":function(e,t,s){"use strict";s("8daa")},7408:function(e,t,s){},"8daa":function(e,t,s){},c66d:function(e,t,s){"use strict";s.r(t);s("b64b");var c=s("7a23"),a=function(e){return Object(c["w"])("data-v-40cf454f"),e=e(),Object(c["u"])(),e},n={class:"profile"},r={key:0},i=Object(c["i"])("Choose a Username: "),l={key:0,id:"warning"},u=a((function(){return Object(c["g"])("br",null,null,-1)})),o=Object(c["i"])(" This username is unavailable "),b=[u,o];function d(e,t,s,a,u,o){var d=Object(c["B"])("UserData");return Object(c["t"])(),Object(c["f"])("div",n,[u.userToBeCreated?(Object(c["t"])(),Object(c["f"])("div",r,[Object(c["g"])("span",null,[i,Object(c["I"])(Object(c["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.userName=e})},null,512),[[c["F"],u.userName]])]),Object(c["g"])("button",{type:"button",class:"btn",onClick:t[1]||(t[1]=function(e){return o.checkUserNameAvailability()})}," Save "),u.userNameAvailable?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",l,b))])):0!==Object.keys(this.$store.state.userEmail).length?(Object(c["t"])(),Object(c["d"])(d,{key:1,onUserToBeCreated:t[2]||(t[2]=function(e){return u.userToBeCreated=e})})):Object(c["e"])("",!0)])}s("b0c0");var f=function(e){return Object(c["w"])("data-v-06a880cf"),e=e(),Object(c["u"])(),e},j={key:0},O={class:"card",style:{width:"34rem"}},m={class:"card-body",id:"offcanvasExampleLabel"},p=f((function(){return Object(c["g"])("h5",{class:"card-title"},"My Plekjes",-1)})),v={class:"plekjeslist"},h=["onClick"],k={class:"card",style:{width:"34rem"}},g={class:"card-body",id:"offcanvasExampleLabel"},y=f((function(){return Object(c["g"])("h5",{class:"card-title"},"My Plekollections",-1)})),C={class:"plekjeslist"},N=["onClick"],_={key:1};function U(e,t,s,a,n,r){return 0!=n.user.username.length?(Object(c["t"])(),Object(c["f"])("div",j,[Object(c["g"])("h2",null,"Hello "+Object(c["D"])(n.user.username),1),Object(c["g"])("div",O,[Object(c["g"])("div",m,[p,(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(n.user.my_plekjes,(function(t,s){return Object(c["t"])(),Object(c["f"])("div",v,[Object(c["g"])("div",{onClick:function(s){return e.getPlekollection(t.name)},class:Object(c["p"])({selected:t.selected})},Object(c["D"])(t),11,h)])})),256))])]),Object(c["g"])("div",k,[Object(c["g"])("div",g,[y,(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(n.user.my_plekollections,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",C,[Object(c["g"])("div",{onClick:function(s){return r.selectPlekollection(e,t)},class:Object(c["p"])({selected:t==n.selected_id})},Object(c["D"])(e.name),11,N)])})),256))])])])):(Object(c["t"])(),Object(c["f"])("div",_,"Loading profile..."))}var w=s("ba5f"),P={data:function(){return{user:{email:"",username:"",my_plekjes:[],my_plekollections:[]},selected_id:null}},methods:{getUserProfile:function(){var e=this,t=JSON.stringify({email:this.$store.state.userEmail});w.apiCall("POST","https://plekjes-server.herokuapp.com/users/get_one",t,(function(t){var s=JSON.parse(t);s?(e.user=s,e.$store.dispatch("setUserData",s)):e.$emit("userToBeCreated",!0)}))},selectPlekollection:function(e,t){this.selected_id=t,console.log(e)}},mounted:function(){this.getUserProfile()}},T=(s("2315"),s("6b0d")),S=s.n(T);const B=S()(P,[["render",U],["__scopeId","data-v-06a880cf"]]);var E=B,$=s("ba5f"),A={components:{UserData:E},data:function(){return{userToBeCreated:!1,userName:"",userNameAvailable:!0}},methods:{checkUserNameAvailability:function(){var e=this,t=JSON.stringify({username:this.userName});$.apiCall("POST","https://plekjes-server.herokuapp.com/users/name_check",t,(function(t){e.userNameAvailable="true"===t,e.userNameAvailable&&e.registerUser()}))},registerUser:function(){var e=this;console.log("creating user");var t={email:this.$store.state.userEmail,username:this.userName,my_plekjes:[],my_plekollections:[]};this.userName="",$.apiCall("POST","https://plekjes-server.herokuapp.com/users/new",JSON.stringify(t),(function(t){e.userToBeCreated=!1}))}},beforeCreate:function(){0===Object.keys(this.$store.state.userEmail).length&&this.$store.dispatch("auth0getUserEmail")},mounted:function(){}};s("716d");const D=S()(A,[["render",d],["__scopeId","data-v-40cf454f"]]);t["default"]=D}}]);
//# sourceMappingURL=chunk-b820a926.eb904b8a.js.map